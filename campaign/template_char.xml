<?xml version="1.0" encoding="iso-8859-1"?>

<!-- 
  Please see the license.html file included with this distribution for 
  attribution and copyright information.
-->

<root>
	<template name="frame_chardetail">
		<genericcontrol>
			<frame name="ct_subgroupbox" />
			<disabled />
		</genericcontrol>
	</template>

	<!-- List Item Sub-sections -->	
	<template name="frame_detailsub">
		<genericcontrol>
			<anchored>
				<left offset="33" />
				<top offset="-8" />
				<right offset="-4" />
				<bottom offset="8" />
			</anchored>
			<frame name="ct_subgroupbox" />
			<disabled />
		</genericcontrol>
	</template>
	<template name="icon_detailsection">
		<genericcontrol>
			<anchored width="20" height="20">
				<left offset="13" />
				<top parent="bottomanchor" anchor="bottom" relation="current" offset="10" />
			</anchored>
		</genericcontrol>
	</template>
	
	

	
	<template name="number_charskilltotal">
		<number_linked>
			<frame name="fieldlight" offset="7,5,7,5" />
			<rollable />
			<hideonvalue>0</hideonvalue>
			<script>
				function action(draginfo)
					local nodeWin = window.getDatabaseNode();
					if nodeWin then
						local rActor = ActorManager.getActor("pc", nodeWin.getChild("..."));
						local sLabel = DB.getValue(nodeWin, "label", "");
						local sStat = DB.getValue(nodeWin, "statname", "");
						ActionSkill.performRoll(draginfo, rActor, sLabel, getValue(), sStat);
					end
	
					return true;
				end
				
				function onDragStart(button, x, y, draginfo)
					return action(draginfo);
				end

				function onDoubleClick(x,y)	
					return action();
				end
			</script>
		</number_linked>
	</template>


	<template name="tabs_charmain">
		<buttongroup_tabs name="tabs">
			<anchored width="18" height="92">
				<top offset="130" />
				<right offset="-31" />
			</anchored>
		</buttongroup_tabs>
	</template>

	<template name="tabs_charabilities">
		<buttongroup_tabs name="tabs">
			<anchored width="18" height="92">
				<top offset="50" />
				<right offset="-31" />
			</anchored>
		</buttongroup_tabs>
	</template>

	<template name="tabs_charcombat">
		<buttongroup_tabs name="tabs">
			<anchored width="18" height="92">
				<top offset="140" />
				<right offset="-31" />
			</anchored>
		</buttongroup_tabs>
	</template>

	
	<template name="label_columntop">
		<stringcontrol>
			<font>sheetlabelmini</font>
			<center />
		</stringcontrol>
	</template>

	<template name="label_attribute">
		<label_fieldtop>
			<anchored offset="-2,-6" />
			<frame name="attributelabel" />
		</label_fieldtop>
	</template>


	<template name="number_charmodfield">
		<basicnumber>
			<script>
				function onInit()
				  setHoverCursor("hand");
				  
				  local w = addBitmapWidget("field_modifier");
				  w.setPosition("bottomleft", -1, -4);
				end
			</script>
			<hideonvalue>0</hideonvalue>
			<displaysign />
			<center />
			<nodrop />
		</basicnumber>
	</template>
	
	<template name="number_charfield">
		<basicnumber>
			<script file="campaign/scripts/campaign_rollable.lua" />
			<center />
			<nodrop />
		</basicnumber>
	</template>

	<template name="string_charfield">
		<basicstring>
			<script file="campaign/scripts/campaign_rollable.lua" />
			<center />
			<nodrop />
		</basicstring>
	</template>

	<template name="stringu_charfield">
		<stringu>
			<nodrop />
		</stringu>
	</template>

	<template name="number_attribute">
		<number_charfield>
			<anchored width="40" height="30" />
			<font>sheetnumberlarge</font>
		</number_charfield>
	</template>

	<template name="string_attribute">
		<string_charfield>
			<anchored width="40" height="30" />
			<font>sheetnumberlarge</font>
		</string_charfield>
	</template>

	<template name="number_charlevelfield">
		<number_charfield>
			<hideonvalue>0</hideonvalue>
		</number_charfield>
	</template>

	<template name="string_chardefensefield">
		<string_charfield>
		</string_charfield>
	</template>

	<template name="string_chardamagefield">
		<string_charfield>
		</string_charfield>
	</template>

	<template name="number_charpointfield">
		<numberfield>
			<center />
			<nodrag />
			<nodrop />
		</numberfield>
	</template>
	

	<template name="button_charroll">
		<button_roll>
			<script file="campaign/scripts/campaign_rollable.lua" />
		</button_roll>
	</template>
	
	<template name="button_modifier">
		<buttoncontrol>
			<anchored width="20" height="20" />
			<icon normal="button_action_modifier" pressed="button_action_modifier_down" />
		</buttoncontrol>
	</template>

	<template name="button_toggledetail">
		<buttoncontrol>
			<anchored width="20" height="20" />
			<state icon="details" />
			<state icon="details_down" />
			<script>
				function onValueChanged()
					if window.toggleDetail then
						window.toggleDetail();
					end
				end
			</script>
		</buttoncontrol>
	</template>

	<template name="button_toggleweaponmodes">
		<buttoncontrol>
			<anchored width="20" height="20" />
			<state icon="weapon_modes" />
			<state icon="weapon_modes_down" />
			<script>
				function onValueChanged()
					if window.toggleWeaponModes then
						window.toggleWeaponModes();
					end
				end
			</script>
		</buttoncontrol>
	</template>

	<template name="button_toggleweaponmodifiers">
		<buttoncontrol>
			<anchored width="20" height="20" />
			<state icon="weapon_modifiers" />
			<state icon="weapon_modifiers_down" />
			<script>
				function onValueChanged()
					if window.toggleWeaponModifiers then
						window.toggleWeaponModifiers();
					end
				end
			</script>
		</buttoncontrol>
	</template>


	<template name="list_charencumbrance">
		<list_text>
			<datasource>.charencumbrancelist</datasource>
			<class>char_encumbrance</class>
			<sortby><control>name</control></sortby>
			<newfocus>name</newfocus>
		</list_text>
	</template>

	<template name="list_charlanguage">
		<list_text>
			<datasource>.charlanguagelist</datasource>
			<class>char_language</class>
			<sortby><control>name</control></sortby>
			<newfocus>name</newfocus>
		</list_text>
	</template>

	<template name="list_charculturalfamiliarity">
		<list_text>
			<datasource>.charculturalfamiliaritylist</datasource>
			<class>char_culturalfamiliarity</class>
			<sortby><control>name</control></sortby>
			<newfocus>name</newfocus>
		</list_text>
	</template>

	<template name="list_charreactionmodifier">
		<list_text>
			<datasource>.charreactionmodifierlist</datasource>
			<class>char_reactionmodifier</class>
			<sortby><control>name</control></sortby>
			<newfocus>name</newfocus>
		</list_text>
	</template>

	<template name="list_charadperk">
		<list_text>
			<datasource>.charadslist</datasource>
			<class>char_trait</class>
			<sortby><control>name</control></sortby>
			<newfocus>name</newfocus>
		</list_text>
	</template>

	<template name="list_chardisadquirk">
		<list_text>
			<datasource>.chardisadslist</datasource>
			<class>char_trait</class>
			<sortby><control>name</control></sortby>
			<newfocus>name</newfocus>
		</list_text>
	</template>

	<template name="list_charskill">
		<list_text>
			<datasource>.charskilllist</datasource>
			<class>char_skill</class>
			<sortby><control>name</control></sortby>
			<newfocus>name</newfocus>
		</list_text>
	</template>

	<template name="list_charspell">
		<list_text>
			<datasource>.charspelllist</datasource>
			<class>char_spell</class>
			<sortby><control>name</control></sortby>
			<newfocus>name</newfocus>
		</list_text>
	</template>

	<template name="list_charpower">
		<list_text>
			<datasource>.charpowerlist</datasource>
			<class>char_power</class>
			<sortby><control>name</control></sortby>
			<newfocus>name</newfocus>
		</list_text>
	</template>

	<template name="list_charother">
		<list_text>
			<datasource>.charotherlist</datasource>
			<class>char_other</class>
			<sortby><control>name</control></sortby>
			<newfocus>name</newfocus>
		</list_text>
	</template>

	<template name="list_charnote">
		<list_text>
			<datasource>.charnotelist</datasource>
			<class>char_note</class>
			<sortby><control>name</control></sortby>
			<newfocus>name</newfocus>
		</list_text>
	</template>

	<template name="list_charmeleecombat">
		<list_text>
			<datasource>.charmeleecombatlist</datasource>
			<class>char_meleecombat</class>
			<sortby><control>name</control></sortby>
			<newfocus>name</newfocus>
		</list_text>
	</template>

	<template name="list_charrangedcombat">
		<list_text>
			<datasource>.charrangedcombatlist</datasource>
			<class>char_rangedcombat</class>
			<sortby><control>name</control></sortby>
			<newfocus>name</newfocus>
		</list_text>
	</template>

	<template name="list_charweaponmodifier">
		<list_text>
			<datasource>.charweaponmodifierlist</datasource>
			<class>char_weaponmodifier</class>
			<sortby><control>name</control></sortby>
			<newfocus>name</newfocus>
		</list_text>
	</template>

	<template name="list_charmeleemode">
		<list_text>
			<datasource>.charmeleemodelist</datasource>
			<class>char_meleemode</class>
			<sortby><control>name</control></sortby>
			<newfocus>name</newfocus>
		</list_text>
	</template>

	<template name="list_charrangedmode">
		<list_text>
			<datasource>.charrangedmodelist</datasource>
			<class>char_rangemode</class>
			<sortby><control>name</control></sortby>
			<newfocus>name</newfocus>
		</list_text>
	</template>
</root>
